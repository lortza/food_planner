<% content_for(:title, 'Meal Plans') %>

<h1>
  Meal Plans
  <%= link_to MaterialIcon.new(icon: :plus_circle, title: 'Create new Meal Plan', classes: 'float-end').render, new_meal_plan_path %>
</h1>

<% @meal_plans.each do |plan| %>
  <div class="card mb-3">
    <div class="card-body">
      <h5 class="card-title controls-on-right-parent">
        <%= link_to "#{l plan.prepared_on, format: :month_as_text}", meal_plan_path(plan) %>
        <span class='controls'>
          <%= link_to MaterialIcon.new(icon: :copy, title: 'Make a copy of this meal plan').render, copy_meal_plan_path(plan)%>
          <%= link_to MaterialIcon.new(icon: :settings, title: 'Edit this meal plan').render, edit_meal_plan_path(plan) %>
        </span>
      </h5>
      <p class="card-text text-muted"><%= display_recipes(plan) %></p>
    </div>
  </div>
<% end %>

<%= will_paginate @meal_plans, :page_links => false %>
