<%= form_for(meal_plan) do |form| %>
  <%= render 'shared/errors', object: meal_plan %>

  <form>
    <div class="form-group row">
      <%= form.label :prepared_on, class: 'col-sm-3 col-form-label' %>
      <div class="col-sm-9">
        <%= form.date_field :prepared_on, autofocus: true, class: 'form-control' %>
      </div>
    </div>

    <div class="form-group row">
      <%= form.label :people_served, class: 'col-sm-3 col-form-label' %>
      <div class="col-sm-9">
        <%= form.number_field :people_served, class: 'form-control' %>
      </div>
    </div>

    <div class="form-group row">
      <%= form.label :notes, class: 'col-sm-3 col-form-label' %>
      <div class="col-sm-9">
        <%= form.text_area :notes, class: 'form-control' %>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-sm-3">Select Recipes</div>

      <div class="col-sm-9">
        <%= form.collection_check_boxes :recipe_ids, recipes, :id, :title do |r| %>
          <div class='form-check'>
            <%= r.check_box class: 'form-check-input' %>
            <%= r.label class: 'form-check-label' do %>
              <%= link_to r.object.title, r.object %> (serves <%= r.object.servings %>) <%= r.object.last_prepared if r.object.last_prepared.present? %>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-9 offset-sm-3">
        <%= form.submit class: button_classes %>
      </div>
    </div>
  </form>

<% end %>
